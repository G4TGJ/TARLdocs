

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>G4TGJ AVR Radio Library &mdash; TARL  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> TARL
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">G4TGJ AVR Radio Library</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#index">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="#drivers">Drivers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#config-h">config.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main-c-and-main-h">main.c and main.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="#io-c-and-io-h">io.c and io.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cat">CAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#display">Display</a></li>
<li class="toctree-l2"><a class="reference internal" href="#eeprom">EEPROM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2c">I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lcd">LCD</a></li>
<li class="toctree-l2"><a class="reference internal" href="#millis">Millis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#morse">Morse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oscillator">Oscillator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pushbutton">Pushbutton</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rotary">Rotary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#serial">Serial</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">TARL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>G4TGJ AVR Radio Library</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="g4tgj-avr-radio-library">
<h1>G4TGJ AVR Radio Library<a class="headerlink" href="#g4tgj-avr-radio-library" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">G4TGJ AVR Radio Library</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#index">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="#drivers">Drivers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#config-h">config.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main-c-and-main-h">main.c and main.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="#io-c-and-io-h">io.c and io.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cat">CAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#display">Display</a></li>
<li class="toctree-l2"><a class="reference internal" href="#eeprom">EEPROM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2c">I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lcd">LCD</a></li>
<li class="toctree-l2"><a class="reference internal" href="#millis">Millis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#morse">Morse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oscillator">Oscillator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pushbutton">Pushbutton</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rotary">Rotary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#serial">Serial</a></li>
</ul>
</li>
</ul>
</div>
<p>This library is a set of source files for AVR processors that provide functionality of use in amateur radio applications, although many of the files could also be used in
non-radio systems.</p>
<p>These files have been tested on the ATTiny85, ATtiny817, ATtiny3216 and ATMega328P. They should work with most tinyAVR 1-series, mega and xmega devices.</p>
<p>When adding these files to your project in Atmel Studio you should add them as links rather than copying them over. This way you can easily update the library when I issue
new versions. You should add as links the C files that you need so that they are compiled. You can also link to the header files but this does not bring them into the compilation.
For the compiler to find them you need to add <code class="docutils literal notranslate"><span class="pre">../../../TARL</span></code> and <code class="docutils literal notranslate"><span class="pre">..</span></code> to <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Properties/Toolchain/C</span> <span class="pre">Compiler/Directories</span></code>.</p>
<p>The source code is available at <a class="reference external" href="https://github.com/G4TGJ/TARL">TARL</a>. A good way to learn how to use the library is to look at three projects which use the library: <a class="reference external" href="https://github.com/G4TGJ/Serial817">Serial817</a>,
<a class="reference external" href="https://github.com/G4TGJ/TATC">TATC</a> and
<a class="reference external" href="https://github.com/G4TGJ/FreqGen5351">FreqGen5351</a>. You can, of course, use these projects as the basis for your project - feel free to clone or fork. Just remember that if you distribute
your program in binary form you must also make the source code available under the GPL. I would welcome pull requests with any modifications you may make.</p>
</div>
<div class="section" id="index">
<h1>Index<a class="headerlink" href="#index" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
</ul>
</div>
<div class="section" id="drivers">
<h1>Drivers<a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="config-h">
<h2>config.h<a class="headerlink" href="#config-h" title="Permalink to this headline">¶</a></h2>
<p>All source files include <code class="docutils literal notranslate"><span class="pre">config.h</span></code>. It is used to customise the library for specific hardware, e.g. IO ports, I2C address, frequency ranges. It also contains the definition of the <code class="docutils literal notranslate"><span class="pre">bool</span></code> type and the
values <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">Example config.h structure</span><a class="headerlink" href="#id21" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm"> * config.h</span>
<span class="cm"> *</span>
<span class="cm"> * Configuration settings for the whole project</span>
<span class="cm"> *</span>
<span class="cm"> */</span>


<span class="cp">#ifndef CONFIG_H_</span>
<span class="cp">#define CONFIG_H_</span>

<span class="cp">#include</span> <span class="cpf">&lt;avr/io.h&gt;</span><span class="cp"></span>

<span class="c1">// General definitions</span>
<span class="k">typedef</span> <span class="kt">uint8_t</span> <span class="kt">bool</span><span class="p">;</span>
<span class="cp">#define true 1</span>
<span class="cp">#define false 0</span>

<span class="cp">#endif </span><span class="cm">/* CONFIG_H_ */</span><span class="cp"></span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">config.h</span></code> is not part of the library but should be provided as part of your project. For each driver I have listed the definitions required with example values - these will
obviously have to match your requirements and hardware.</p>
</div>
<div class="section" id="main-c-and-main-h">
<h2>main.c and main.h<a class="headerlink" href="#main-c-and-main-h" title="Permalink to this headline">¶</a></h2>
<p>Your program requires a <code class="docutils literal notranslate"><span class="pre">main.c</span></code> (although you can name it anything you like) which contains <code class="docutils literal notranslate"><span class="pre">main()</span></code> which should call the init function for each driver you are using and then
it should start a continuous loop. This will continually call into those drivers that require to do regular processing (e.g. <code class="docutils literal notranslate"><span class="pre">morseScanPaddles()</span></code> in the morse keyer. You obviously
have to include your own application code here too.</p>
<p>Some drivers include <code class="docutils literal notranslate"><span class="pre">main.h</span></code> which defines the functions that the driver calls to feed back into the main program e.g. the morse keyer will call <code class="docutils literal notranslate"><span class="pre">keyDown()</span></code> whenever it is
sending a dot or a dash.</p>
</div>
<div class="section" id="io-c-and-io-h">
<h2>io.c and io.h<a class="headerlink" href="#io-c-and-io-h" title="Permalink to this headline">¶</a></h2>
<p>Many of the drivers require an I/O driver e.g. to read the state of a switch. The functions should be declared in <code class="docutils literal notranslate"><span class="pre">io.h</span></code> and implemented in <code class="docutils literal notranslate"><span class="pre">io.c</span></code>. Again, for each driver I have
listed the required functions.</p>
</div>
<div class="section" id="cat">
<h2>CAT<a class="headerlink" href="#cat" title="Permalink to this headline">¶</a></h2>
<p>CAT control simulating the Yaesu FT450D. Requires the serial driver.</p>
<p>Requires the main application to implement a number of functions for setting VFO frequency, RIT etc.</p>
<div class="section" id="files">
<h3>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">cat.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">cat.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv47catInitv">
<span id="_CPPv37catInitv"></span><span id="_CPPv27catInitv"></span><span id="catInit"></span><span class="target" id="cat_8h_1a8cd1f38006c7ccde1afa6290ed0bb498"></span>void <code class="sig-name descname">catInit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv47catInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise CAT control. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv410catControlv">
<span id="_CPPv310catControlv"></span><span id="_CPPv210catControlv"></span><span id="catControl"></span><span class="target" id="cat_8h_1a6ec425d9282955af496e5ad7f479daa2"></span>void <code class="sig-name descname">catControl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410catControlv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Called from the main loop to do CAT control. </p>
</dd></dl>

<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the CAT driver</span><a class="headerlink" href="#id22" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Time between scans of the CAT interface</span>
<span class="cp">#define CAT_CHARACTER_DELAY 10</span>
</pre></div>
</div>
</div>
<p>Required functions to provide in <code class="docutils literal notranslate"><span class="pre">main.c</span></code> and <code class="docutils literal notranslate"><span class="pre">main.h</span></code>:</p>
<dl class="c function">
<dt id="c.setVFOFrequency">
void <code class="sig-name descname">setVFOFrequency</code><span class="sig-paren">(</span>uint8_t <em>vfo</em>, uint32_t <em>freq</em><span class="sig-paren">)</span><a class="headerlink" href="#c.setVFOFrequency" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets a VFO frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vfo</strong> – VFO number</p></li>
<li><p><strong>freq</strong> – Frequency</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt id="c.getVFOFreq">
uint32_t <code class="sig-name descname">getVFOFreq</code><span class="sig-paren">(</span>uint8_t <em>vfo</em><span class="sig-paren">)</span><a class="headerlink" href="#c.getVFOFreq" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns a VFO’s frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vfo</strong> – VFO number</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt id="c.getCurrentVFOFreq">
uint32_t <code class="sig-name descname">getCurrentVFOFreq</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getCurrentVFOFreq" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the current VFO’s frequency.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getOtherVFOFreq">
uint32_t <code class="sig-name descname">getOtherVFOFreq</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getOtherVFOFreq" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the other VFO’s frequency.
e.g. if the current VFO is A, then return B’s frequency.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getCurrentVFOOffset">
int16_t <code class="sig-name descname">getCurrentVFOOffset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getCurrentVFOOffset" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the current VFO’s offset.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getCurrentVFORIT">
bool <code class="sig-name descname">getCurrentVFORIT</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getCurrentVFORIT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the current VFO’s RIT setting.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getCurrentVFOXIT">
bool <code class="sig-name descname">getCurrentVFOXIT</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getCurrentVFOXIT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the current VFO’s XIT setting.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getOtherVFOOffset">
int16_t <code class="sig-name descname">getOtherVFOOffset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getOtherVFOOffset" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the other VFO’s offset.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getOtherVFORIT">
bool <code class="sig-name descname">getOtherVFORIT</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getOtherVFORIT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the other VFO’s RIT setting.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getOtherVFOXIT">
bool <code class="sig-name descname">getOtherVFOXIT</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getOtherVFOXIT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the other VFO’s XIT setting.</p>
</dd></dl>

<dl class="c function">
<dt id="c.getCurrentVFO">
uint8_t <code class="sig-name descname">getCurrentVFO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getCurrentVFO" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the current VFO.</p>
</dd></dl>

<dl class="c function">
<dt id="c.setCurrentVFO">
void <code class="sig-name descname">setCurrentVFO</code><span class="sig-paren">(</span>uint8_t <em>vfo</em><span class="sig-paren">)</span><a class="headerlink" href="#c.setCurrentVFO" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets the current VFO.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vfo</strong> – VFO number</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt id="c.setCurrentVFORIT">
void <code class="sig-name descname">setCurrentVFORIT</code><span class="sig-paren">(</span>bool <em>bRIT</em><span class="sig-paren">)</span><a class="headerlink" href="#c.setCurrentVFORIT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the current VFO in or out of RIT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bRIT</strong> – true if going into RIT</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt id="c.getVFOSplit">
bool <code class="sig-name descname">getVFOSplit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getVFOSplit" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return true if in split VFO mode.</p>
</dd></dl>

<dl class="c function">
<dt id="c.setVFOSplit">
void <code class="sig-name descname">setVFOSplit</code><span class="sig-paren">(</span>bool <em>bSplit</em><span class="sig-paren">)</span><a class="headerlink" href="#c.setVFOSplit" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets split VFO mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bSplit</strong> – true if setting split</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt id="c.getTransmitting">
bool <code class="sig-name descname">getTransmitting</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.getTransmitting" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return true if currently transmitting.</p>
</dd></dl>

<dl class="c function">
<dt id="c.vfoSwap">
void <code class="sig-name descname">vfoSwap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.vfoSwap" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Swap the two VFOs.</p>
</dd></dl>

<dl class="c function">
<dt id="c.vfoEqual">
void <code class="sig-name descname">vfoEqual</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.vfoEqual" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the VFOs to be equal.</p>
</dd></dl>

<dl class="c function">
<dt id="c.setCurrentVFOOffset">
void <code class="sig-name descname">setCurrentVFOOffset</code><span class="sig-paren">(</span>int16_t <em>rit</em><span class="sig-paren">)</span><a class="headerlink" href="#c.setCurrentVFOOffset" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the current VFO’s offset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rit</strong> – RIT value to set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt id="c.setCWReverse">
void <code class="sig-name descname">setCWReverse</code><span class="sig-paren">(</span>bool <em>bCWReverse</em><span class="sig-paren">)</span><a class="headerlink" href="#c.setCWReverse" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets CW reverse mode i.e. swaps sidebands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bCWReverse</strong> – true if setting CW reverse</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="display">
<h2>Display<a class="headerlink" href="#display" title="Permalink to this headline">¶</a></h2>
<p>Display driver. Requires the LCD driver.</p>
<p>If you are short of flash space then defining <code class="docutils literal notranslate"><span class="pre">DISPLAY_DISABLE_SCROLLING</span></code> will save some space. Obviously this disables
scrolling and <code class="docutils literal notranslate"><span class="pre">displaySplitLine()</span></code> is not available.</p>
<div class="section" id="id1">
<h3>Files<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">display.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">display.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="id2">
<h3>Functions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv411displayInitv">
<span id="_CPPv311displayInitv"></span><span id="_CPPv211displayInitv"></span><span id="displayInit"></span><span class="target" id="display_8h_1ae73f09805ae55b98c4638ce589f96e6d"></span>void <code class="sig-name descname">displayInit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411displayInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the display module. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv411displayText7uint8_tPcb">
<span id="_CPPv311displayText7uint8_tPcb"></span><span id="_CPPv211displayText7uint8_tPcb"></span><span id="displayText__uint8_t.cP.b"></span><span class="target" id="display_8h_1a9ce837d78dcd8278873597031e9934fa"></span>void <code class="sig-name descname">displayText</code><span class="sig-paren">(</span>uint8_t <em>line</em>, char *<em>text</em>, bool <em>bReplace</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411displayText7uint8_tPcb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Display text on the specified line replacing the existing text or scrolling from the right.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">line</span></code>: Line number </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">text</span></code>: Pointer to the text to display </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">bReplace</span></code>: If true then replace the existing line, otherwise scroll the text in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv413displayCursor7uint8_t7uint8_t12eCursorState">
<span id="_CPPv313displayCursor7uint8_t7uint8_t12eCursorState"></span><span id="_CPPv213displayCursor7uint8_t7uint8_t12eCursorState"></span><span id="displayCursor__uint8_t.uint8_t.eCursorState"></span><span class="target" id="display_8h_1aaa66efdf039bc5b8d6b774fc98d36629"></span>void <code class="sig-name descname">displayCursor</code><span class="sig-paren">(</span>uint8_t <em>col</em>, uint8_t <em>line</em>, <em class="property">enum</em> <a class="reference internal" href="#_CPPv412eCursorState" title="eCursorState">eCursorState</a> <em>state</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413displayCursor7uint8_t7uint8_t12eCursorState" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the cursor position and state (off, underline or blink).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">col</span></code>: Column number </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">line</span></code>: Line number </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">state</span></code>: cursorOff, cursorUnderline or cursorBlink </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv416displaySplitLine7uint8_t7uint8_t">
<span id="_CPPv316displaySplitLine7uint8_t7uint8_t"></span><span id="_CPPv216displaySplitLine7uint8_t7uint8_t"></span><span id="displaySplitLine__uint8_t.uint8_t"></span><span class="target" id="display_8h_1a1de602709715afc1632111ed07abfb98"></span>void <code class="sig-name descname">displaySplitLine</code><span class="sig-paren">(</span>uint8_t <em>col</em>, uint8_t <em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416displaySplitLine7uint8_t7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Split a line at the given column. This means text will scroll up to that point.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">col</span></code>: Column number </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">line</span></code>: Line number </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv412eCursorState">
<span id="_CPPv312eCursorState"></span><span id="_CPPv212eCursorState"></span><span class="target" id="display_8h_1ac75b70a19736c0a0591834af27e95e83"></span><em class="property">enum </em><code class="sig-name descname">eCursorState</code><a class="headerlink" href="#_CPPv412eCursorState" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Possible cursor states. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N12eCursorState9cursorOffE">
<span id="_CPPv3N12eCursorState9cursorOffE"></span><span id="_CPPv2N12eCursorState9cursorOffE"></span><span class="target" id="display_8h_1ac75b70a19736c0a0591834af27e95e83a6594641d9235969b1c0d2b80c645a670"></span><em class="property">enumerator </em><code class="sig-name descname">cursorOff</code><a class="headerlink" href="#_CPPv4N12eCursorState9cursorOffE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12eCursorState15cursorUnderlineE">
<span id="_CPPv3N12eCursorState15cursorUnderlineE"></span><span id="_CPPv2N12eCursorState15cursorUnderlineE"></span><span class="target" id="display_8h_1ac75b70a19736c0a0591834af27e95e83ae0124ca9aacfa817f09d79bafc626331"></span><em class="property">enumerator </em><code class="sig-name descname">cursorUnderline</code><a class="headerlink" href="#_CPPv4N12eCursorState15cursorUnderlineE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N12eCursorState11cursorBlinkE">
<span id="_CPPv3N12eCursorState11cursorBlinkE"></span><span id="_CPPv2N12eCursorState11cursorBlinkE"></span><span class="target" id="display_8h_1ac75b70a19736c0a0591834af27e95e83aedbdb4c282e0336a6b96d38780341f55"></span><em class="property">enumerator </em><code class="sig-name descname">cursorBlink</code><a class="headerlink" href="#_CPPv4N12eCursorState11cursorBlinkE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the display driver</span><a class="headerlink" href="#id23" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define to disable scrolling</span>
<span class="cp">#define DISPLAY_DISABLE_SCROLLING</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="eeprom">
<h2>EEPROM<a class="headerlink" href="#eeprom" title="Permalink to this headline">¶</a></h2>
<p>EEPROM driver.</p>
<div class="section" id="id3">
<h3>Files<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">eeprom.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">eeprom.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="id4">
<h3>Functions<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv410eepromInitv">
<span id="_CPPv310eepromInitv"></span><span id="_CPPv210eepromInitv"></span><span id="eepromInit"></span><span class="target" id="eeprom_8h_1a894983de29926ba7426eb5c1cefe4f8f"></span>void <code class="sig-name descname">eepromInit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410eepromInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the EEPROM driver. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv410eepromRead8uint16_t">
<span id="_CPPv310eepromRead8uint16_t"></span><span id="_CPPv210eepromRead8uint16_t"></span><span id="eepromRead__uint16_t"></span><span class="target" id="eeprom_8h_1ae10b5c4ffaad469db4027a6c0f8ab52b"></span>uint8_t <code class="sig-name descname">eepromRead</code><span class="sig-paren">(</span>uint16_t <em>uiAddress</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410eepromRead8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Read a byte from the EEPROM.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The byte read from the address </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">uiAddress</span></code>: EEPROM address </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv411eepromWrite8uint16_t7uint8_t">
<span id="_CPPv311eepromWrite8uint16_t7uint8_t"></span><span id="_CPPv211eepromWrite8uint16_t7uint8_t"></span><span id="eepromWrite__uint16_t.uint8_t"></span><span class="target" id="eeprom_8h_1ab4f3791bc28fef0e814446ce6d6c4ab9"></span>void <code class="sig-name descname">eepromWrite</code><span class="sig-paren">(</span>uint16_t <em>uiAddress</em>, uint8_t <em>ucData</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411eepromWrite8uint16_t7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Write a byte to the EEPROM.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">uiAddress</span></code>: EEPROM address </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">ucData</span></code>: Data to write </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>
<div class="section" id="i2c">
<h2>I2C<a class="headerlink" href="#i2c" title="Permalink to this headline">¶</a></h2>
<p>Implements the Philips I<sup>2</sup>C (Inter Integrated Circuit) bus. Some manufacturers call it TWI (Two Wire Interface), presumably to avoid trademark infringement.</p>
<p>Currently only the master side is implemented. Multi-master buses are not supported.</p>
<div class="section" id="id5">
<h3>Files<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">i2c.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">i2c.c</code></dt>
<dd><p>Implementation.</p>
<blockquote>
<div><p>Pulls in the required source file for the device. Supports ATMega, tinyAVR 1-series and devices that use the Universal Serial Interface (USI) to provide I2C (such as the ATTiny85).</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="id6">
<h3>Functions<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv47i2cInitv">
<span id="_CPPv37i2cInitv"></span><span id="_CPPv27i2cInitv"></span><span id="i2cInit"></span><span class="target" id="i2c_8h_1aeb7a85378bf2caee4ff575af15ad2d72"></span>void <code class="sig-name descname">i2cInit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv47i2cInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the I2C driver.</p>
<p>Must be called before any other I2C functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv416i2cWriteRegister7uint8_t7uint8_t7uint8_t">
<span id="_CPPv316i2cWriteRegister7uint8_t7uint8_t7uint8_t"></span><span id="_CPPv216i2cWriteRegister7uint8_t7uint8_t7uint8_t"></span><span id="i2cWriteRegister__uint8_t.uint8_t.uint8_t"></span><span class="target" id="i2c_8h_1a0ab625548aa60c7e60bb731d71d58c5e"></span>uint8_t <code class="sig-name descname">i2cWriteRegister</code><span class="sig-paren">(</span>uint8_t <em>addr</em>, uint8_t <em>reg</em>, uint8_t <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416i2cWriteRegister7uint8_t7uint8_t7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Write to an 8 bit register over I2C.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">addr</span></code>: I2C address </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">reg</span></code>: Register address </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">data</span></code>: Data to write to register </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv415i2cReadRegister7uint8_t7uint8_tP7uint8_t">
<span id="_CPPv315i2cReadRegister7uint8_t7uint8_tP7uint8_t"></span><span id="_CPPv215i2cReadRegister7uint8_t7uint8_tP7uint8_t"></span><span id="i2cReadRegister__uint8_t.uint8_t.uint8_tP"></span><span class="target" id="i2c_8h_1a0bce378c34dcd8800258d838f8f6fbe8"></span>uint8_t <code class="sig-name descname">i2cReadRegister</code><span class="sig-paren">(</span>uint8_t <em>addr</em>, uint8_t <em>reg</em>, uint8_t *<em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415i2cReadRegister7uint8_t7uint8_tP7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Read from an 8 bit register over I2C.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">addr</span></code>: I2C address </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">reg</span></code>: Register address </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">data</span></code>: Pointer to data location to write contents of register to </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>
<div class="section" id="lcd">
<h2>LCD<a class="headerlink" href="#lcd" title="Permalink to this headline">¶</a></h2>
<p>Low level LCD display driver. Normally you would use the display driver rather than the LCD driver.</p>
<div class="section" id="id7">
<h3>Files<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">lcd.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">lcd.c</code></dt>
<dd><p>Implementation. Requires either <code class="docutils literal notranslate"><span class="pre">lcd_i2c.c</span></code> or <code class="docutils literal notranslate"><span class="pre">lcd_port.c</span></code>. Alternatively,
you can use <code class="docutils literal notranslate"><span class="pre">lcd_if.c</span></code> and define either <code class="docutils literal notranslate"><span class="pre">LCD_PORT</span></code> or <code class="docutils literal notranslate"><span class="pre">LCD_I2C</span></code> to target code at either
type of display.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">lcd_i2c.c</code></dt>
<dd><p>Use this with LCD displays connected over I2C.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">lcd_port.c</code></dt>
<dd><p>Use with LCD displays directly connected to the IO ports on the AVR controller.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">lcd_if.c</code></dt>
<dd><p>Pulls in either <code class="docutils literal notranslate"><span class="pre">lcd_i2c.c</span></code> (if <code class="docutils literal notranslate"><span class="pre">LCD_I2C</span></code> is defined) or <code class="docutils literal notranslate"><span class="pre">lcd_port.c</span></code> (if <code class="docutils literal notranslate"><span class="pre">LCD_PORT</span></code> is defined).</p>
</dd></dl>

</div>
<div class="section" id="id8">
<h3>Functions<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv47lcdInitv">
<span id="_CPPv37lcdInitv"></span><span id="_CPPv27lcdInitv"></span><span id="lcdInit"></span><span class="target" id="lcd_8h_1a3004c9c4fb128520f24f4407dca4f8cf"></span>void <code class="sig-name descname">lcdInit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv47lcdInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the LCD driver. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv48lcdBegin7uint8_t7uint8_t">
<span id="_CPPv38lcdBegin7uint8_t7uint8_t"></span><span id="_CPPv28lcdBegin7uint8_t7uint8_t"></span><span id="lcdBegin__uint8_t.uint8_t"></span><span class="target" id="lcd_8h_1ad98477829bb075b6093da2cad2f524f3"></span>void <code class="sig-name descname">lcdBegin</code><span class="sig-paren">(</span>uint8_t <em>cols</em>, uint8_t <em>rows</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv48lcdBegin7uint8_t7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the number of rows and columns.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">cols</span></code>: Number of columns </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">rows</span></code>: Number of rows </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv48lcdClearv">
<span id="_CPPv38lcdClearv"></span><span id="_CPPv28lcdClearv"></span><span id="lcdClear"></span><span class="target" id="lcd_8h_1aac2a3025561da991d8b5af29facc07a2"></span>void <code class="sig-name descname">lcdClear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv48lcdClearv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Clear the LCD screen. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv47lcdHomev">
<span id="_CPPv37lcdHomev"></span><span id="_CPPv27lcdHomev"></span><span id="lcdHome"></span><span class="target" id="lcd_8h_1a18086a4c82ba1c653759f26b0ba2fa52"></span>void <code class="sig-name descname">lcdHome</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv47lcdHomev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Move the cursor back to the first location. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv413lcdDisplayOffv">
<span id="_CPPv313lcdDisplayOffv"></span><span id="_CPPv213lcdDisplayOffv"></span><span id="lcdDisplayOff"></span><span class="target" id="lcd_8h_1a3201f9ef34d820bf6f986d1dd88374e0"></span>void <code class="sig-name descname">lcdDisplayOff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413lcdDisplayOffv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn off the display. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv412lcdDisplayOnv">
<span id="_CPPv312lcdDisplayOnv"></span><span id="_CPPv212lcdDisplayOnv"></span><span id="lcdDisplayOn"></span><span class="target" id="lcd_8h_1acf056de5fc25008a4e678d55b2601769"></span>void <code class="sig-name descname">lcdDisplayOn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412lcdDisplayOnv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn on the display. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv411lcdBlinkOffv">
<span id="_CPPv311lcdBlinkOffv"></span><span id="_CPPv211lcdBlinkOffv"></span><span id="lcdBlinkOff"></span><span class="target" id="lcd_8h_1aec86b2f8dc38c39fbd2c4901ad85568a"></span>void <code class="sig-name descname">lcdBlinkOff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411lcdBlinkOffv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Stop the cursor blinking. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv410lcdBlinkOnv">
<span id="_CPPv310lcdBlinkOnv"></span><span id="_CPPv210lcdBlinkOnv"></span><span id="lcdBlinkOn"></span><span class="target" id="lcd_8h_1a9b854ecc216e5a6a44fd67fac7028d8f"></span>void <code class="sig-name descname">lcdBlinkOn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410lcdBlinkOnv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Start the cursor blinking. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv412lcdCursorOffv">
<span id="_CPPv312lcdCursorOffv"></span><span id="_CPPv212lcdCursorOffv"></span><span id="lcdCursorOff"></span><span class="target" id="lcd_8h_1a9f297b5eb988b3068d69781bc8af9b90"></span>void <code class="sig-name descname">lcdCursorOff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412lcdCursorOffv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn off the cursor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv412lcdCcursorOnv">
<span id="_CPPv312lcdCcursorOnv"></span><span id="_CPPv212lcdCcursorOnv"></span><span id="lcdCcursorOn"></span><span class="target" id="lcd_8h_1ad33ef44755d0bde1a3677c41e5bc8643"></span>void <code class="sig-name descname">lcdCcursorOn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412lcdCcursorOnv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn on the cursor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv420lcdScrollDisplayLeftv">
<span id="_CPPv320lcdScrollDisplayLeftv"></span><span id="_CPPv220lcdScrollDisplayLeftv"></span><span id="lcdScrollDisplayLeft"></span><span class="target" id="lcd_8h_1aee0b651f4467f3d46944d0a4359e1391"></span>void <code class="sig-name descname">lcdScrollDisplayLeft</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420lcdScrollDisplayLeftv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Scroll the display left. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv421lcdScrollDisplayRightv">
<span id="_CPPv321lcdScrollDisplayRightv"></span><span id="_CPPv221lcdScrollDisplayRightv"></span><span id="lcdScrollDisplayRight"></span><span class="target" id="lcd_8h_1ab30317587d6607807a81902ef5e1fef8"></span>void <code class="sig-name descname">lcdScrollDisplayRight</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421lcdScrollDisplayRightv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Scroll the display right. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv420lcdScrollLeftToRightv">
<span id="_CPPv320lcdScrollLeftToRightv"></span><span id="_CPPv220lcdScrollLeftToRightv"></span><span id="lcdScrollLeftToRight"></span><span class="target" id="lcd_8h_1a64c71ed19cde9d79e8cde02ba4c278ca"></span>void <code class="sig-name descname">lcdScrollLeftToRight</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420lcdScrollLeftToRightv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the scroll direction to left to right. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv420lcdScrollRightToLeftv">
<span id="_CPPv320lcdScrollRightToLeftv"></span><span id="_CPPv220lcdScrollRightToLeftv"></span><span id="lcdScrollRightToLeft"></span><span class="target" id="lcd_8h_1a0b02b97ca5871c8c0bccbd29abd2ea76"></span>void <code class="sig-name descname">lcdScrollRightToLeft</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420lcdScrollRightToLeftv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the scroll direction to right to left. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv415lcdAutoscrollOnv">
<span id="_CPPv315lcdAutoscrollOnv"></span><span id="_CPPv215lcdAutoscrollOnv"></span><span id="lcdAutoscrollOn"></span><span class="target" id="lcd_8h_1a7bd48f875dc036f19ea3a975c60a8c7d"></span>void <code class="sig-name descname">lcdAutoscrollOn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415lcdAutoscrollOnv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the display to automatically scroll. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv416lcdAutoscrollOffv">
<span id="_CPPv316lcdAutoscrollOffv"></span><span id="_CPPv216lcdAutoscrollOffv"></span><span id="lcdAutoscrollOff"></span><span class="target" id="lcd_8h_1ab617fff41b781ae7324563e6420f649f"></span>void <code class="sig-name descname">lcdAutoscrollOff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416lcdAutoscrollOffv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn off automatic scrolling. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv412lcdSetCursor7uint8_t7uint8_t">
<span id="_CPPv312lcdSetCursor7uint8_t7uint8_t"></span><span id="_CPPv212lcdSetCursor7uint8_t7uint8_t"></span><span id="lcdSetCursor__uint8_t.uint8_t"></span><span class="target" id="lcd_8h_1a411dbdd038d3a6309425cb240280fb08"></span>void <code class="sig-name descname">lcdSetCursor</code><span class="sig-paren">(</span>uint8_t <em>col</em>, uint8_t <em>row</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412lcdSetCursor7uint8_t7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the cursor position.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">col</span></code>: Column number </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">row</span></code>: Row number </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv48lcdPrintPKc">
<span id="_CPPv38lcdPrintPKc"></span><span id="_CPPv28lcdPrintPKc"></span><span id="lcdPrint__cCP"></span><span class="target" id="lcd_8h_1a58cd18ea579284eb134ecc0aefa147c1"></span>void <code class="sig-name descname">lcdPrint</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv48lcdPrintPKc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print text on the LCD screen.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">string</span></code>: Pointer to the null terminated string </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for <code class="docutils literal notranslate"><span class="pre">lcd_if.c</span></code></span><a class="headerlink" href="#id24" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Use the I2C version of the LCD driver</span>
<span class="cp">#define LCD_I2C</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the LCD I2C driver</span><a class="headerlink" href="#id25" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Address of the LCD display</span>
<span class="cp">#define LCD_I2C_ADDRESS 0x27</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the LCD port driver</span><a class="headerlink" href="#id26" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// LCD Port definitions</span>
<span class="cp">#define LCD_ENABLE_PORT PORTB</span>
<span class="cp">#define LCD_ENABLE_DDR  DDRB</span>
<span class="cp">#define LCD_ENABLE_PIN  PB3</span>
<span class="cp">#define LCD_RS_PORT     PORTB</span>
<span class="cp">#define LCD_RS_DDR      DDRB</span>
<span class="cp">#define LCD_RS_PIN      PB4</span>
<span class="cp">#define LCD_DATA_PORT_0 PORTD</span>
<span class="cp">#define LCD_DATA_DDR_0  DDRD</span>
<span class="cp">#define LCD_DATA_PIN_0  PD7</span>
<span class="cp">#define LCD_DATA_PORT_1  PORTD</span>
<span class="cp">#define LCD_DATA_DDR_1  DDRD</span>
<span class="cp">#define LCD_DATA_PIN_1  PD4</span>
<span class="cp">#define LCD_DATA_PORT_2  PORTD</span>
<span class="cp">#define LCD_DATA_DDR_2  DDRD</span>
<span class="cp">#define LCD_DATA_PIN_2  PD3</span>
<span class="cp">#define LCD_DATA_PORT_3  PORTD</span>
<span class="cp">#define LCD_DATA_DDR_3  DDRD</span>
<span class="cp">#define LCD_DATA_PIN_3  PD2</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="millis">
<h2>Millis<a class="headerlink" href="#millis" title="Permalink to this headline">¶</a></h2>
<p>Timer providing a count in milliseconds and delays in milliseconds or microseconds.
For the tinyAVR 1-series the clock divider must be specified in <code class="docutils literal notranslate"><span class="pre">config.h</span></code>. This is
because the TCA timer can be used as the source for other timers.</p>
<div class="section" id="id9">
<h3>Files<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">millis.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">millis.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="id10">
<h3>Functions<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv410millisInitv">
<span id="_CPPv310millisInitv"></span><span id="_CPPv210millisInitv"></span><span id="millisInit__void"></span><span class="target" id="millis_8h_1a37e41ced099c2901b5afb303fccc61c4"></span>void <code class="sig-name descname">millisInit</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410millisInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the millisecond timer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv46millisv">
<span id="_CPPv36millisv"></span><span id="_CPPv26millisv"></span><span class="target" id="millis_8h_1adb94fbd930038e1510574dd4bcf07fe1"></span>uint32_t <code class="sig-name descname">millis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv46millisv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return the number of milliseconds since the box started. Wraps after approx 49 days.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>Number of milliseconds </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv45delay8uint16_t">
<span id="_CPPv35delay8uint16_t"></span><span id="_CPPv25delay8uint16_t"></span><span id="delay__uint16_t"></span><span class="target" id="millis_8h_1adb7db4d9ef946dcfb58bcfc667ee674a"></span>void <code class="sig-name descname">delay</code><span class="sig-paren">(</span>uint16_t <em>ms</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv45delay8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Delay a number of milliseconds.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">ms</span></code>: Number of milliseconds to wait </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp macro">
<dt id="c.delayMicroseconds">
<span class="target" id="millis_8h_1a4b534dc22648d7f7eaa5213e6af265b7"></span><code class="sig-name descname">delayMicroseconds</code><span class="sig-paren">(</span><em>us</em><span class="sig-paren">)</span><a class="headerlink" href="#c.delayMicroseconds" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Delay a number of microseconds.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">us</span></code>: Number of microseconds to wait </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the millis driver (for tinyAVR 1-series only)</span><a class="headerlink" href="#id27" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Clock divider</span>
<span class="c1">// This is used by the millisecond clock on TCA0</span>
<span class="cp">#define CLOCK_DIV 1</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="morse">
<h2>Morse<a class="headerlink" href="#morse" title="Permalink to this headline">¶</a></h2>
<p>Morse keyer. Supports Iambic A, Iambic B and Ultimatic.</p>
<div class="section" id="id11">
<h3>Files<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">morse.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">morse.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="id12">
<h3>Functions<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv49morseInitv">
<span id="_CPPv39morseInitv"></span><span id="_CPPv29morseInitv"></span><span id="morseInit"></span><span class="target" id="morse_8h_1ae7e1f0601bdfbf84301624cc2831c6a0"></span>void <code class="sig-name descname">morseInit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49morseInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the morse module. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv411morseGetWpmv">
<span id="_CPPv311morseGetWpmv"></span><span id="_CPPv211morseGetWpmv"></span><span id="morseGetWpm"></span><span class="target" id="morse_8h_1aaf9e270ea062d4f5562b1b55b8eff018"></span>uint8_t <code class="sig-name descname">morseGetWpm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411morseGetWpmv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the morse speed in words per minute.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>Morse speed in WPM </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv411morseSetWpm7uint8_t">
<span id="_CPPv311morseSetWpm7uint8_t"></span><span id="_CPPv211morseSetWpm7uint8_t"></span><span id="morseSetWpm__uint8_t"></span><span class="target" id="morse_8h_1ad84b19997e680ebdeebea2f1c164b2d8"></span>void <code class="sig-name descname">morseSetWpm</code><span class="sig-paren">(</span>uint8_t <em>wpm</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411morseSetWpm7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the morse speed in words per minute.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">wpm</span></code>: Morse speed in wpm </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv416morseScanPaddlesv">
<span id="_CPPv316morseScanPaddlesv"></span><span id="_CPPv216morseScanPaddlesv"></span><span id="morseScanPaddles__void"></span><span class="target" id="morse_8h_1abfa65190fc7e3ebb1b564dfcac06d892"></span>bool <code class="sig-name descname">morseScanPaddles</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416morseScanPaddlesv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Scan the dot and dash paddles. Called from the main loop.</p>
<p>The return value can be used to decide whether or not to go into a low power mode - useful for a battery powered keyer without an off switch.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>true if active </p>
</dd>
<dt><strong>Return</strong></dt><dd><p>false if idle </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv416morseSetTuneModeb">
<span id="_CPPv316morseSetTuneModeb"></span><span id="_CPPv216morseSetTuneModeb"></span><span id="morseSetTuneMode__b"></span><span class="target" id="morse_8h_1a711479acfd492d065d684df900595586"></span>void <code class="sig-name descname">morseSetTuneMode</code><span class="sig-paren">(</span>bool <em>bTune</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416morseSetTuneModeb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Switch in or out of tune mode. i.e. continuous transmission for tuning ATU etc.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">bTune</span></code>: True to set tune mode, False to leave tune mode </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv415morseInTuneModev">
<span id="_CPPv315morseInTuneModev"></span><span id="_CPPv215morseInTuneModev"></span><span id="morseInTuneMode"></span><span class="target" id="morse_8h_1ae23858705247731dc540163d281a1eac"></span>bool <code class="sig-name descname">morseInTuneMode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415morseInTuneModev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns whether or not in tune mode.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>true if in tune mode </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv417morseGetKeyerModev">
<span id="_CPPv317morseGetKeyerModev"></span><span id="_CPPv217morseGetKeyerModev"></span><span id="morseGetKeyerMode"></span><span class="target" id="morse_8h_1ae9fad4063c36772da0d402ebe8c9c28c"></span><em class="property">enum</em> <a class="reference internal" href="#_CPPv415eMorseKeyerMode" title="eMorseKeyerMode">eMorseKeyerMode</a> <code class="sig-name descname">morseGetKeyerMode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417morseGetKeyerModev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the keyer mode.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The keyer mode </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv417morseSetKeyerMode15eMorseKeyerMode">
<span id="_CPPv317morseSetKeyerMode15eMorseKeyerMode"></span><span id="_CPPv217morseSetKeyerMode15eMorseKeyerMode"></span><span id="morseSetKeyerMode__eMorseKeyerMode"></span><span class="target" id="morse_8h_1a07f724f26c8da7c4813fdf604179e080"></span>void <code class="sig-name descname">morseSetKeyerMode</code><span class="sig-paren">(</span><em class="property">enum</em> <a class="reference internal" href="#_CPPv415eMorseKeyerMode" title="eMorseKeyerMode">eMorseKeyerMode</a><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417morseSetKeyerMode15eMorseKeyerMode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the keyer mode.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">eMorseKeyerMode</span></code>: The keyer mode </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv415eMorseKeyerMode">
<span id="_CPPv315eMorseKeyerMode"></span><span id="_CPPv215eMorseKeyerMode"></span><span class="target" id="morse_8h_1af745140a3e5cc08a5949c9a2d33d1c73"></span><em class="property">enum </em><code class="sig-name descname">eMorseKeyerMode</code><a class="headerlink" href="#_CPPv415eMorseKeyerMode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Morse keyer mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N15eMorseKeyerMode17morseKeyerIambicAE">
<span id="_CPPv3N15eMorseKeyerMode17morseKeyerIambicAE"></span><span id="_CPPv2N15eMorseKeyerMode17morseKeyerIambicAE"></span><span class="target" id="morse_8h_1af745140a3e5cc08a5949c9a2d33d1c73a6080c5837abe1127bfff62fb12a867a7"></span><em class="property">enumerator </em><code class="sig-name descname">morseKeyerIambicA</code> = 0<a class="headerlink" href="#_CPPv4N15eMorseKeyerMode17morseKeyerIambicAE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N15eMorseKeyerMode17morseKeyerIambicBE">
<span id="_CPPv3N15eMorseKeyerMode17morseKeyerIambicBE"></span><span id="_CPPv2N15eMorseKeyerMode17morseKeyerIambicBE"></span><span class="target" id="morse_8h_1af745140a3e5cc08a5949c9a2d33d1c73ace85a9087e4c6f617a022d038cc52bd5"></span><em class="property">enumerator </em><code class="sig-name descname">morseKeyerIambicB</code><a class="headerlink" href="#_CPPv4N15eMorseKeyerMode17morseKeyerIambicBE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N15eMorseKeyerMode19morseKeyerUltimaticE">
<span id="_CPPv3N15eMorseKeyerMode19morseKeyerUltimaticE"></span><span id="_CPPv2N15eMorseKeyerMode19morseKeyerUltimaticE"></span><span class="target" id="morse_8h_1af745140a3e5cc08a5949c9a2d33d1c73aa7a9f9750a1dba526df02f365c23ef96"></span><em class="property">enumerator </em><code class="sig-name descname">morseKeyerUltimatic</code><a class="headerlink" href="#_CPPv4N15eMorseKeyerMode19morseKeyerUltimaticE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N15eMorseKeyerMode21MORSE_NUM_KEYER_MODESE">
<span id="_CPPv3N15eMorseKeyerMode21MORSE_NUM_KEYER_MODESE"></span><span id="_CPPv2N15eMorseKeyerMode21MORSE_NUM_KEYER_MODESE"></span><span class="target" id="morse_8h_1af745140a3e5cc08a5949c9a2d33d1c73a861c802f4f0fbfd7b2516af070686fd4"></span><em class="property">enumerator </em><code class="sig-name descname">MORSE_NUM_KEYER_MODES</code><a class="headerlink" href="#_CPPv4N15eMorseKeyerMode21MORSE_NUM_KEYER_MODESE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">Example io.c definitions for the morse keyer</span><a class="headerlink" href="#id28" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">ioInit</span><span class="p">()</span>
<span class="p">{</span>
        <span class="c1">// Initialise morse output</span>
        <span class="n">MORSE_OUTPUT_DDR_REG</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">MORSE_OUTPUT_PIN</span><span class="p">);</span>

        <span class="c1">// Paddle dot and dash pins as inputs with pull-ups</span>
        <span class="n">MORSE_PADDLE_DOT_PORT_REG</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">MORSE_PADDLE_DOT_PIN</span><span class="p">);</span>
        <span class="n">MORSE_PADDLE_DASH_PIN_REG</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">MORSE_PADDLE_DASH_PIN</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Functions to read morse paddle inputs</span>
<span class="kt">bool</span> <span class="nf">ioReadDotPaddle</span><span class="p">()</span>
<span class="p">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="n">MORSE_PADDLE_DOT_PIN_REG</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">MORSE_PADDLE_DOT_PIN</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">ioReadDashPaddle</span><span class="p">()</span>
<span class="p">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="n">MORSE_PADDLE_DASH_PIN_REG</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">MORSE_PADDLE_DASH_PIN</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Required functions to provide in <code class="docutils literal notranslate"><span class="pre">main.c</span></code> and <code class="docutils literal notranslate"><span class="pre">main.h</span></code>:</p>
<dl class="c function">
<dt id="c.displayMorse">
void <code class="sig-name descname">displayMorse</code><span class="sig-paren">(</span>char *<em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#c.displayMorse" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sends the characters being sent by the keyer to the application. Can be displayed on a screen, for example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Pointer to characters to display</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt id="c.keyDown">
void <code class="sig-name descname">keyDown</code><span class="sig-paren">(</span>bool <em>bDown</em><span class="sig-paren">)</span><a class="headerlink" href="#c.keyDown" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sends the key state to the application so that the keyer can key the transmitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bDown</strong> – true if the key is down, false if it is up</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="oscillator">
<h2>Oscillator<a class="headerlink" href="#oscillator" title="Permalink to this headline">¶</a></h2>
<p>Oscillator driver. Allows the setting of individual output frequencies and enabling quadrature mode.
Currently only supports the Si5351A chip with 3 outputs. CLK0 and CLK1 use PLL A and CLK2 uses PLL B.</p>
<div class="section" id="id13">
<h3>Files<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">osc.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">si5351a.c</code></dt>
<dd><p>Implementation for the Si5351A.</p>
</dd></dl>

</div>
<div class="section" id="id14">
<h3>Functions<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv47oscInitv">
<span id="_CPPv37oscInitv"></span><span id="_CPPv27oscInitv"></span><span id="oscInit__void"></span><span class="target" id="osc_8h_1a28fec9732c766a8a8a35a818e5622fea"></span>bool <code class="sig-name descname">oscInit</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv47oscInitv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the oscillator.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>true if successful </p>
</dd>
<dt><strong>Return</strong></dt><dd><p>false if unable to talk to it or it doesn’t initialise properly </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv415oscSetFrequency7uint8_t8uint32_t6int8_t">
<span id="_CPPv315oscSetFrequency7uint8_t8uint32_t6int8_t"></span><span id="_CPPv215oscSetFrequency7uint8_t8uint32_t6int8_t"></span><span id="oscSetFrequency__uint8_t.uint32_t.int8_t"></span><span class="target" id="osc_8h_1a5b0fe1a48abb6a65e14644d9dda3c036"></span>void <code class="sig-name descname">oscSetFrequency</code><span class="sig-paren">(</span>uint8_t <em>clock</em>, uint32_t <em>frequency</em>, int8_t <em>q</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415oscSetFrequency7uint8_t8uint32_t6int8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the clock to the given frequency with optional quadrature. </p>
<p>quadrature is only used for clock 1 - it is ignored for the others.</p>
<p>+ve is CLK1 leads CLK0 by 90 degrees -ve is CLK1 lags CLK0 by 90 degrees</p>
<p>0 is no quadrature i.e. set the frequency as normal.</p>
<p>When quadrature is set for clock 1 then it is set to the same frequency as clock 0.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">clock</span></code>: Clock output to set </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">frequency</span></code>: Frequency in hertz </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">q</span></code>: Quadrature mode </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv414oscClockEnable7uint8_tb">
<span id="_CPPv314oscClockEnable7uint8_tb"></span><span id="_CPPv214oscClockEnable7uint8_tb"></span><span id="oscClockEnable__uint8_t.b"></span><span class="target" id="osc_8h_1a0d05e19b0d7e0738900f46240bcc9bba"></span>void <code class="sig-name descname">oscClockEnable</code><span class="sig-paren">(</span>uint8_t <em>clock</em>, bool <em>bEnable</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414oscClockEnable7uint8_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable/disable a clock output.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">clock</span></code>: Clock output to control </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">bEnable</span></code>: true to enable, false to disable </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv419oscSetXtalFrequency8uint32_t">
<span id="_CPPv319oscSetXtalFrequency8uint32_t"></span><span id="_CPPv219oscSetXtalFrequency8uint32_t"></span><span id="oscSetXtalFrequency__uint32_t"></span><span class="target" id="osc_8h_1a2c115ebf201817097e6457283715116c"></span>void <code class="sig-name descname">oscSetXtalFrequency</code><span class="sig-paren">(</span>uint32_t <em>xtal_freq</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419oscSetXtalFrequency8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the crystal frequency.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">xtal_freq</span></code>: Crystal frequency (in hertz) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the oscillator driver</span><a class="headerlink" href="#id29" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Oscillator chip definitions</span>
<span class="c1">// I2C address</span>
<span class="cp">#define SI5351A_I2C_ADDRESS 0x60</span>

<span class="c1">// Transmit and receive clocks. Receive uses 2 clocks for quadrature.</span>
<span class="cp">#define NUM_CLOCKS 3</span>
<span class="cp">#define RX_CLOCK_A 0</span>
<span class="cp">#define RX_CLOCK_B 1</span>
<span class="cp">#define TX_CLOCK   2</span>

<span class="c1">// The minimum and maximum crystal frequencies in the setting menu</span>
<span class="c1">// Have to allow for adjusting above or below actual valid crystal range</span>
<span class="cp">#define MIN_XTAL_FREQUENCY 24000000</span>
<span class="cp">#define MAX_XTAL_FREQUENCY 28000000</span>

<span class="c1">// The si5351a default crystal frequency and load capacitance</span>
<span class="cp">#define DEFAULT_XTAL_FREQ       27000000</span>
<span class="cp">#define SI_XTAL_LOAD_CAP SI_XTAL_LOAD_10PF</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pushbutton">
<h2>Pushbutton<a class="headerlink" href="#pushbutton" title="Permalink to this headline">¶</a></h2>
<p>Pushbutton driver. Debounces the button detecting short and long presses.</p>
<div class="section" id="id15">
<h3>Files<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">pushbutton.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">pushbutton.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="id16">
<h3>Functions<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv418debouncePushbuttonbPbPb8uint16_t8uint16_tP14sDebounceState">
<span id="_CPPv318debouncePushbuttonbPbPb8uint16_t8uint16_tP14sDebounceState"></span><span id="_CPPv218debouncePushbuttonbPbPb8uint16_t8uint16_tP14sDebounceState"></span><span id="debouncePushbutton__b.bP.bP.uint16_t.uint16_t.sDebounceStateP"></span><span class="target" id="pushbutton_8h_1ab2e1fb193f1ab93c98658aabb07d85d0"></span>void <code class="sig-name descname">debouncePushbutton</code><span class="sig-paren">(</span>bool <em>bDown</em>, bool *<em>pbShortPress</em>, bool *<em>pbLongPress</em>, uint16_t <em>debounceTime</em>, uint16_t <em>longPressTime</em>, <em class="property">struct</em> sDebounceState *<em>pDebounceState</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418debouncePushbuttonbPbPb8uint16_t8uint16_tP14sDebounceState" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Debounce a pushbutton</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">bDown</span></code>: True if the pushbutton is down as read from the hardware </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">pbShortPress</span></code>: Pointer to boolean set to true if the pushbutton has been pressed for a short time </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">pbLongPress</span></code>: Pointer to boolean set to true if the pushbutton has been pressed for a long time or null if not used </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">debounceTime</span></code>: Minimum time pushbutton must be down for it to be a short press </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">longPressTime</span></code>: Minimum time pushbutton must be down for it to be a long press </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">pDebounceState</span></code>: Pointer to structure holding state machine state </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">Example use of the pushbutton driver</span><a class="headerlink" href="#id30" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Debounce times in ms</span>
<span class="cp">#define DEBOUNCE_TIME 200</span>
<span class="cp">#define LONG_PRESS_TIME 1000</span>

<span class="c1">// Keep track of pushbutton debounce state</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">sDebounceState</span> <span class="n">debounceState</span><span class="p">;</span>

<span class="c1">// Read and debounce the pushbutton</span>
<span class="kt">bool</span> <span class="n">shortPress</span><span class="p">,</span> <span class="n">longPress</span><span class="p">;</span>
<span class="n">debouncePushbutton</span><span class="p">(</span> <span class="n">readButton</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">shortPress</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">longPress</span><span class="p">,</span> <span class="n">DEBOUNCE_TIME</span><span class="p">,</span> <span class="n">LONG_PRESS_TIME</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">debounceState</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">Example io.c definitions for the pushbutton driver</span><a class="headerlink" href="#id31" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="nf">readButton</span><span class="p">()</span>
<span class="p">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="n">BUTTON_PIN_REG</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">BUTTON_PIN</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Configure all the I/O we need</span>
<span class="kt">void</span> <span class="nf">ioInit</span><span class="p">()</span>
<span class="p">{</span>
        <span class="n">BUTTON_PORT_REG</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">BUTTON_PIN</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="rotary">
<h2>Rotary<a class="headerlink" href="#rotary" title="Permalink to this headline">¶</a></h2>
<p>Rotary driver. Handles a rotary control with pushbutton. Decodes the quadrature signal for rotation and debounces the button
detecting short and long presses.</p>
<p>Requires the pushbutton driver.</p>
<div class="section" id="id17">
<h3>Files<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">rotary.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">rotary.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="id18">
<h3>Functions<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv410readRotaryPbPbPbPb">
<span id="_CPPv310readRotaryPbPbPbPb"></span><span id="_CPPv210readRotaryPbPbPbPb"></span><span id="readRotary__bP.bP.bP.bP"></span><span class="target" id="rotary_8h_1a1cceba9d7709d628f7013eb4fb11b35b"></span>void <code class="sig-name descname">readRotary</code><span class="sig-paren">(</span>bool *<em>pbCW</em>, bool *<em>pbCCW</em>, bool *<em>pbShortPress</em>, bool *<em>pbLongPress</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410readRotaryPbPbPbPb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Read the rotary control and its push button</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">pbCW</span></code>: Pointer to boolean set to true if the control has been moved clockwise </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">pbCCW</span></code>: Pointer to boolean set to true if the control has been moved counter clockwise </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">pbShortPress</span></code>: Pointer to boolean set to true if the pushbutton has been pressed for a short time </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">pbLongPress</span></code>: Pointer to boolean set to true if the pushbutton has been pressed for a long time </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the rotary driver</span><a class="headerlink" href="#id32" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Time for debouncing the rotary pushbutton (ms)</span>
<span class="cp">#define ROTARY_BUTTON_DEBOUNCE_TIME 100</span>

<span class="c1">// Time for the rotary pushbutton press to be a long press (ms)</span>
<span class="cp">#define ROTARY_LONG_PRESS_TIME 250</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">Example io.c definitions for the rotary driver</span><a class="headerlink" href="#id33" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">ioReadRotary</span><span class="p">(</span> <span class="kt">bool</span> <span class="o">*</span><span class="n">pbA</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">*</span><span class="n">pbB</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">*</span><span class="n">pbSw</span> <span class="p">)</span>
<span class="p">{</span>
        <span class="o">*</span><span class="n">pbA</span> <span class="o">=</span>  <span class="o">!</span><span class="p">(</span><span class="n">ROTARY_ENCODER_A_PIN_REG</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ROTARY_ENCODER_A_PIN</span><span class="p">));</span>
        <span class="o">*</span><span class="n">pbB</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="n">ROTARY_ENCODER_B_PIN_REG</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ROTARY_ENCODER_B_PIN</span><span class="p">));</span>
        <span class="o">*</span><span class="n">pbSw</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="n">ROTARY_ENCODER_SW_PIN_REG</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ROTARY_ENCODER_SW_PIN</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Configure all the I/O we need</span>
<span class="kt">void</span> <span class="nf">ioInit</span><span class="p">()</span>
<span class="p">{</span>
        <span class="n">ROTARY_ENCODER_A_PORT_REG</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ROTARY_ENCODER_A_PIN</span><span class="p">);</span>
        <span class="n">ROTARY_ENCODER_B_PORT_REG</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ROTARY_ENCODER_B_PIN</span><span class="p">);</span>
        <span class="n">ROTARY_ENCODER_SW_PORT_REG</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">ROTARY_ENCODER_SW_PIN</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="serial">
<h2>Serial<a class="headerlink" href="#serial" title="Permalink to this headline">¶</a></h2>
<p>Serial driver for chips, such as the ATMega328 or ATtiny817, that have a USART. Interrupt driven with transmit and receive buffers.</p>
<div class="section" id="id19">
<h3>Files<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="sig-name descname">serial.h</code></dt>
<dd><p>Header file.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">serial.c</code></dt>
<dd><p>Implementation.</p>
</dd></dl>

</div>
<div class="section" id="id20">
<h3>Functions<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv410serialInit8uint32_t">
<span id="_CPPv310serialInit8uint32_t"></span><span id="_CPPv210serialInit8uint32_t"></span><span id="serialInit__uint32_t"></span><span class="target" id="serial_8h_1a0015b6b8a38d692007ce1218c9b09925"></span>void <code class="sig-name descname">serialInit</code><span class="sig-paren">(</span>uint32_t <em>baud</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410serialInit8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialise the serial driver.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">baud</span></code>: Baud rate </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv414serialTransmit7uint8_t">
<span id="_CPPv314serialTransmit7uint8_t"></span><span id="_CPPv214serialTransmit7uint8_t"></span><span id="serialTransmit__uint8_t"></span><span class="target" id="serial_8h_1a30b491820d6750210cb6d21b36264890"></span>void <code class="sig-name descname">serialTransmit</code><span class="sig-paren">(</span>uint8_t <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414serialTransmit7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Transmit a byte over the serial line.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">data</span></code>: The byte to send </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv414serialTXStringPc">
<span id="_CPPv314serialTXStringPc"></span><span id="_CPPv214serialTXStringPc"></span><span id="serialTXString__cP"></span><span class="target" id="serial_8h_1a5145da2804f24d52879774a666f01831"></span>void <code class="sig-name descname">serialTXString</code><span class="sig-paren">(</span>char *<em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414serialTXStringPc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Transmit a null terminated string over the serial line.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">string</span></code>: Pointer to the string to send </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv413serialReceivev">
<span id="_CPPv313serialReceivev"></span><span id="_CPPv213serialReceivev"></span><span id="serialReceive__void"></span><span class="target" id="serial_8h_1a5c8257c4ccc6bc136b86dd19f1cfc4fb"></span>uint8_t <code class="sig-name descname">serialReceive</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413serialReceivev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Receive a byte from the serial line.</p>
<p>If the receive buffer is empty then NUL is returned.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The byte received, or NUL. </p>
</dd>
</dl>
</p>
</dd></dl>

<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">Example config.h definitions for the serial driver</span><a class="headerlink" href="#id34" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// // Serial port buffer lengths</span>
<span class="c1">// Lengths should be a power of 2 for efficiency</span>
<span class="cp">#define SERIAL_RX_BUF_LEN 32</span>
<span class="cp">#define SERIAL_TX_BUF_LEN 64</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Richard Tomlinson

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>